webpackJsonp([7],{P7ryO:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("utbL"),o=t("teIl"),a={name:"Register",inject:["reload"],data(){return{registerForm:{name:"",password:"",checkPass:"",email:"",slide:!1,checked:!1},rules:{name:[{required:!0,validator:(e,r,t)=>{/^[A-Za-z0-9_!@#$%^&]+$/.test(r)?r.length<4||r.length>36?t(new Error("Length between 4 and 36")):t():t(new Error("Numbers, letters, special characters"))},trigger:"blur"}],password:[{required:!0,validator:(e,r,t)=>{console.log("pass"),r.length<6||r.length>36?t(new Error("Length between 6 and 36")):(""!==this.registerForm.checkPass&&this.$refs.registerForm.validateField("checkPass"),t())},trigger:"blur"}],checkPass:[{required:!0,validator:(e,r,t)=>{""===r?t(new Error("Confirm password")):r!==this.registerForm.password?t(new Error("Input same password")):t()},trigger:"blur"}],email:[{required:!0,validator:(e,r,t)=>{/^[A-Za-z0-9\u4e00-\u9fa5._]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r)?t():t(new Error("Email Error"))},trigger:"blur"}],slide:[{required:!0,validator:(e,r,t)=>{r?t():(this.$alert("Check slide verfication","",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-close",center:!0,customClass:"success-box",callback:e=>{}}),t(new Error("Slide Error")))},trigger:"blur"}],checked:[{required:!0,validator:(e,r,t)=>{r?t():t(new Error("Please tick to accept"))},trigger:"change"}]},showErr:!1}},methods:{submitForm(e){console.log("test"),this.$refs[e].validate(e=>{if(console.log({user_name:this.registerForm.name,password:this.registerForm.password}),!e)return console.log("error submit"),!1;this.axios.post("/v1/user/append_user",{user_name:this.registerForm.name,password:this.registerForm.password,email:this.registerForm.email}).then(e=>{console.log(e.data),0==e.data.result?this.$alert("Success! Check your email",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-check",center:!0,customClass:"success-box",callback:e=>{this.$router.push("home")}}):-1==e.data.result?(console.log(e.data.result),this.$alert("Username duplicated",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-close",center:!0,customClass:"success-box",callback:e=>{this.reload()}})):-2==e.data.result&&(console.log(e.data.result),this.$alert("Email duplicated",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-close",center:!0,customClass:"success-box",callback:e=>{this.reload()}}))}).catch(e=>{console.log(e)})})},resetForm(e){this.$refs[e].resetFields()},alert(e){console.log(e),"success"==e&&(this.registerForm.slide=!0)}},components:{Verify:s.a}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"register"}},[t("el-form",{ref:"registerForm",attrs:{"status-icon":"",rules:e.rules,model:e.registerForm,"label-position":"left","label-width":"160px"}},[t("el-form-item",{attrs:{label:"Username",prop:"name"}},[t("el-input",{model:{value:e.registerForm.name,callback:function(r){e.$set(e.registerForm,"name",r)},expression:"registerForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Confirm",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(r){e.$set(e.registerForm,"checkPass",r)},expression:"registerForm.checkPass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"E-mail",prop:"email"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),e._v(" "),t("el-form-item",{staticClass:"verify-row",attrs:{label:"Verification",prop:"slide"}},[t("Verify",{attrs:{explain:"Slide to right","show-button":!1,type:3,barSize:{width:"350px",height:"40px"}},on:{success:function(r){return e.alert("success")},error:function(r){return e.alert("error")}}})],1),e._v(" "),t("el-form-item",{staticClass:"agreement-row",attrs:{prop:"checked","label-width":"0"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.checked,expression:"registerForm.checked"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.registerForm.checked)?e._i(e.registerForm.checked,null)>-1:e.registerForm.checked},on:{change:function(r){var t=e.registerForm.checked,s=r.target,o=!!s.checked;if(Array.isArray(t)){var a=e._i(t,null);s.checked?a<0&&e.$set(e.registerForm,"checked",t.concat([null])):a>-1&&e.$set(e.registerForm,"checked",t.slice(0,a).concat(t.slice(a+1)))}else e.$set(e.registerForm,"checked",o)}}}),e._v("\n      Accept the "),t("router-link",{attrs:{to:"/privacy_policy"}},[t("i",[e._v("user agreemen")]),e._v("t")])],1),e._v(" "),t("div",{staticClass:"button-row",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"button-submit",attrs:{round:"",size:"small"},on:{click:function(r){return e.submitForm("registerForm")}}},[e._v("Submit")]),e._v(" "),t("el-button",{staticClass:"button-cancel",attrs:{round:"",size:"small"},on:{click:function(r){return e.resetForm("registerForm")}}},[e._v("Cancel")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(a,i,!1,function(e){t("eE4H")},"data-v-142785a6",null).exports,c=t("TVmP"),n={name:"Login",inject:["reload"],data(){return{loginForm:{name:"",password:"",slide:!1,checked:!1},rules:{name:[{required:!0,validator:(e,r,t)=>{/^[A-Za-z0-9_!@#$%^&]+$/.test(r)?r.length<4||r.length>36?t(new Error("Length between 4 and 36")):t():t(new Error("Numbers, letters or special characters"))},trigger:"blur"}],password:[{required:!0,validator:(e,r,t)=>{r.length<6||r.length>36?t(new Error("Length between 6 and 36")):t()},trigger:"blur"}],slide:[{required:!0,validator:(e,r,t)=>{console.log("slide"),r?t():(this.$alert("Check slide verfication","",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-close",center:!0,customClass:"success-box",callback:e=>{}}),t(new Error("Slide Error")))},trigger:"blur"}],checked:[{required:!0,validator:(e,r,t)=>{console.log(r),r?t():t(new Error("Please tick to accept"))},trigger:"change"}]},showErr:!1,checked:!1}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit"),!1;this.axios.post("/v1/user/check_password",{user_name:this.loginForm.name,password:this.loginForm.password}).then(e=>{console.log(e.data),"success"==e.data.result?this.$alert("Successfully login","",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-check",center:!0,customClass:"success-box",callback:e=>{this.$cookies.set("name",this.loginForm.name),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push("home")}}):(console.log(e.data.result),this.$alert("Login Failure","",{confirmButtonText:"OK",showClose:!1,iconClass:"el-icon-circle-close",center:!0,customClass:"success-box",callback:e=>{this.reload()}}))}).catch(e=>{console.log(e)})})},resetForm(e){this.$refs[e].resetFields()},alert(e){console.log(e),"success"==e&&(this.loginForm.slide=!0)},toForget(){this.$router.push("/forget_password")}},components:{Verify:s.a,Header:o.a,Register:l,Footer:c.a}},m={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"main"}},[t("div",{staticClass:"upper-part"},[t("Header",{attrs:{active:"Login"}}),e._v(" "),t("div",{attrs:{id:"login"}},[t("el-tabs",{attrs:{type:"border-card",id:"login-tabs"}},[t("el-tab-pane",{attrs:{label:"Login"}},[t("el-form",{ref:"loginForm",attrs:{"status-icon":"",rules:e.rules,"label-position":"left",model:e.loginForm,"label-width":"160px"}},[t("el-form-item",{attrs:{label:"Username",prop:"name"}},[t("el-input",{model:{value:e.loginForm.name,callback:function(r){e.$set(e.loginForm,"name",r)},expression:"loginForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),e._v(" "),t("el-form-item",{staticClass:"verify-row",attrs:{label:"Verification",prop:"slide"}},[t("Verify",{attrs:{explain:"Slide to right","show-button":!1,type:3,barSize:{width:"350px",height:"40px"}},on:{success:function(r){return e.alert("success")},error:function(r){return e.alert("error")}}})],1),e._v(" "),t("el-form-item",{staticClass:"agreement-row",attrs:{prop:"checked","label-width":"0"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.checked,expression:"loginForm.checked"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.loginForm.checked)?e._i(e.loginForm.checked,null)>-1:e.loginForm.checked},on:{change:function(r){var t=e.loginForm.checked,s=r.target,o=!!s.checked;if(Array.isArray(t)){var a=e._i(t,null);s.checked?a<0&&e.$set(e.loginForm,"checked",t.concat([null])):a>-1&&e.$set(e.loginForm,"checked",t.slice(0,a).concat(t.slice(a+1)))}else e.$set(e.loginForm,"checked",o)}}}),e._v("\n                Accept the "),t("router-link",{attrs:{to:"/privacy_policy"}},[t("i",[e._v("user agreement")])])],1),e._v(" "),t("div",{staticClass:"button-row",staticStyle:{"text-align":"center"}},[t("el-button",{staticClass:"button-submit",attrs:{round:"",size:"small"},on:{click:function(r){return e.submitForm("loginForm")}}},[e._v("Submit")]),e._v(" "),t("el-button",{staticClass:"button-cancel",attrs:{round:"",size:"small"},on:{click:function(r){return e.resetForm("loginForm")}}},[e._v("Cancel")])],1),e._v(" "),t("div",{staticClass:"form-bottom"},[t("el-link",{staticClass:"forget-link",nativeOn:{click:function(r){return e.toForget(r)}}},[e._v("Forget Password?")])],1)],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"Register"}},[t("Register")],1)],1)],1)],1),e._v(" "),t("Footer",{staticClass:"footer"})],1)},staticRenderFns:[]};var u=t("VU/8")(n,m,!1,function(e){t("gC+k"),t("oyJ0"),t("rSKH")},"data-v-a767e6b2",null);r.default=u.exports},eE4H:function(e,r){},"gC+k":function(e,r){},oyJ0:function(e,r){},rSKH:function(e,r){}});